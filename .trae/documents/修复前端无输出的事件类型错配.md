## 问题原因
- 后端在 `backend/editor_agent.py:91-98` 把模型的“正文增量”也用 `type: "think"` 发送；而前端 `web/src/components/Chat.tsx:35-53` 只把 `type: "tool"` 汇总为 assistant 最终消息，`think` 仅作过程显示，不进入最终可见消息。
- 当本轮没有工具调用时，最终只会渲染 `toolLines.join("\n")`，导致用户看不到真正的回答文本。

## 修改方案（后端 + 前端）
- 后端：为可展示的正文增量使用独立事件类型 `type: "text"`
  - 在 `backend/editor_agent.py:91-98`：
    - 保持推理链 `reasoning_content` 继续用 `type: "think"`。
    - 将正文增量 `c` 改为 `yield {"role":"assistant","type":"text","content": c}`，并继续累加到 `content_acc`。
  - 在结束分支 `backend/editor_agent.py:161-166`：去掉仅有状态意义的 `"生成完成"` 文本事件，结束由前端 `onDone` 统一收束。
- 前端：接收并汇总 `type: "text"` 为最终可见消息
  - 在 `web/src/components/Chat.tsx:35-53`：
    - 新增 `textLines` 状态，用于累加 `type === "text"` 的字符串。
    - `onDone` 改为用 `textLines.join("\n")` 作为 assistant 最终消息内容；保留 `toolLines` 作为工具/错误日志的辅助显示。
    - 仍保留 `thinking` 作为过程显示，不并入最终消息。
- SSE 错误一致性：
  - 在 `backend/api.py:48-60` 的 `_sse_guard` 中，错误事件统一为 `{"role":"assistant","type":"error","content":...}`，与前端协议一致。

## 兼容性与影响
- 协议更清晰：`think` 仅用于思考展示，`text` 用于用户可见正文，`tool`/`error` 保持现状。
- 前端 UI 行为不变：仍显示三块区域（历史消息、过程思考、工具/错误日志），但最终消息将正确显示正文。
- 与工具调用共存：当有工具调用时，`data` 事件仍会被前端写入简历数据；正文与工具日志分别展示。

## 具体改动点
- `backend/editor_agent.py:91-98, 161-166` 调整事件类型与结束事件。
- `web/src/components/Chat.tsx:14-20, 35-55, 70-87` 增加 `textLines`、事件处理与渲染逻辑；`onDone` 使用 `textLines`。
- `backend/api.py:48-60` 统一错误事件类型为 `error`。

## 验证方法
- 启动后端与前端，提交一条无工具调用的输入（如纯问答）。
  - 观察聊天区：应出现 assistant 的正文文本；过程区显示 `thinking`；工具区为空或仅状态行。
- 提交一条会触发工具调用的输入：
  - 正文、工具日志、`data` 更新均分别显示；最终消息包含正文。
- 人为制造后端异常：前端应收到 `type:"error"` 并在工具日志区显示。

请确认以上方案，我将按此实现并提交改动。